{% load static %}
<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistem Akuntansi{% endblock %} | PT Telkom Indonesia</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom Layout CSS -->
    <link rel="stylesheet" href="{% static 'laporan_keuangan/css/layout.css' %}">
</head>

<body>

    <!-- Top Navigation Bar -->
    <nav class="topbar navbar navbar-dark">
        <div class="container-fluid">
            <div class="d-flex align-items-center">
                <button class="btn btn-link text-white toggle-btn p-0 me-3" type="button" onclick="toggleSidebar()"
                    aria-label="Toggle sidebar">
                    <i class="bi bi-list fs-4"></i>
                </button>
                <span class="navbar-brand mb-0 d-none d-md-inline">
                    <strong>Sistem Akuntansi</strong>
                    <small class="text-white-50 ms-2">PT Telkom Indonesia</small>
                </span>
            </div>
            <span class="navbar-text text-white-50 small">
                <i class="bi bi-calendar3 me-1"></i>
                Periode: {{ period_start }} â€“ {{ period_end }}
            </span>
        </div>
    </nav>

    <!-- Main Layout -->
    <div class="layout">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="sidebar collapsed">
            <!-- Logo Area -->
            <div class="sidebar-brand">
                <div class="brand-icon">
                    <i class="bi bi-building"></i>
                </div>
                <div class="brand-text">
                    <span class="brand-name">TELKOM</span>
                    <span class="brand-tagline">Akuntansi</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <!-- Dashboard & Input -->
                <div class="menu-group">
                    <a href="{% url 'finance:home' %}" class="menu-link">
                        <i class="bi bi-house-door"></i>
                        <span class="menu-text">Dashboard</span>
                    </a>
                    <a href="{% url 'finance:input_transaksi' %}" class="menu-link">
                        <i class="bi bi-pencil-square"></i>
                        <span class="menu-text">Input Transaksi</span>
                    </a>
                </div>

                <!-- Jurnal Section -->
                <div class="menu-group">
                    <div class="menu-title" onclick="toggleGroup('jurnal-menu')">
                        <i class="bi bi-journal-text"></i>
                        <span class="menu-text">Jurnal</span>
                        <i class="bi bi-chevron-down menu-arrow"></i>
                    </div>
                    <div id="jurnal-menu" class="menu-items">
                        <a href="{% url 'finance:jurnal_pembuka' %}">Jurnal Pembuka</a>
                        <a href="{% url 'finance:jurnal_umum' %}">Jurnal Umum</a>
                        <a href="{% url 'finance:buku_besar' %}">Buku Besar</a>
                    </div>
                </div>

                <!-- Laporan Section -->
                <div class="menu-group">
                    <div class="menu-title" onclick="toggleGroup('laporan-menu')">
                        <i class="bi bi-bar-chart-line"></i>
                        <span class="menu-text">Laporan</span>
                        <i class="bi bi-chevron-down menu-arrow"></i>
                    </div>
                    <div id="laporan-menu" class="menu-items">
                        <a href="{% url 'finance:laba_rugi' %}">Laba Rugi</a>
                        <a href="{% url 'finance:neraca' %}">Neraca</a>
                        <a href="{% url 'finance:neraca_saldo_disesuaikan' %}">Neraca Saldo Disesuaikan</a>
                        <a href="{% url 'finance:perubahan_ekuitas' %}">Perubahan Ekuitas</a>
                        <a href="{% url 'finance:arus_kas' %}">Arus Kas</a>
                    </div>
                </div>

                {% if false %}
                <!-- Pengembang Section -->
                <div class="menu-group">
                    <div class="menu-title" onclick="toggleGroup('pengembang-menu')">
                        <i class="bi bi-people"></i>
                        <span class="menu-text">Pengembang</span>
                        <i class="bi bi-chevron-down menu-arrow"></i>
                    </div>
                    <div id="pengembang-menu" class="menu-items">
                        <a href="{% url 'finance:pengembang' %}">Tim Pengembang</a>
                        <a href="{% static 'laporan_keuangan/modul_sistem.pdf' %}" target="_blank">
                            <i class="bi bi-file-pdf me-1"></i>Modul Sistem
                        </a>
                    </div>
                </div>
                {% endif %}
            </nav>

            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <small class="text-muted">Case Study</small>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content">
            {% if messages %}
            <div class="messages-container mb-4">
                {% for message in messages %}
                <div class="alert alert-dismissible fade show 
                    {% if message.tags == 'error' %}alert-danger{% elif message.tags == 'warning' %}alert-warning{% elif message.tags == 'info' %}alert-info{% else %}alert-success{% endif %}"
                    role="alert">
                    {% if message.tags == 'error' %}
                    <i class="bi bi-exclamation-triangle me-2"></i>
                    {% elif message.tags == 'warning' %}
                    <i class="bi bi-exclamation-circle me-2"></i>
                    {% elif message.tags == 'info' %}
                    <i class="bi bi-info-circle me-2"></i>
                    {% else %}
                    <i class="bi bi-check-circle me-2"></i>
                    {% endif %}
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Sidebar Script -->
    <script src="{% static 'laporan_keuangan/js/sidebar.js' %}"></script>

</body>

</html>